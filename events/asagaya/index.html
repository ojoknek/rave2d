<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>RAVE 2D: ASAGAYA | EVENT</title>
    <meta name="description" content="RAVE 2D: ASAGAYA — 2024/9/16(MON) at Asagaya DRIFT. ¥3000+1D.">
    <link rel="icon" href="../../image/RAVE2D-fabicon.svg" type="image/svg+xml">
    <!-- OGP / アイキャッチ（SNSシェア用） -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rave2d.com/events/asagaya/">
    <meta property="og:title" content="RAVE 2D: ASAGAYA | EVENT">
    <meta property="og:description" content="RAVE 2D: ASAGAYA — 2024/9/16(MON) at Asagaya DRIFT. ¥3000+1D.">
    <meta property="og:image" content="https://rave2d.com/image/RAVE2D-ASAGAYA.png">
    <meta property="og:locale" content="ja_JP">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="RAVE 2D: ASAGAYA | EVENT">
    <meta name="twitter:description" content="RAVE 2D: ASAGAYA — 2024/9/16(MON) at Asagaya DRIFT. ¥3000+1D.">
    <meta name="twitter:image" content="https://rave2d.com/image/RAVE2D-ASAGAYA.png">
    <link rel="stylesheet" href="../../style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700;900&family=Zen+Kaku+Gothic+New:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body class="page-event">

    <div class="loader" aria-hidden="true">
        <span class="loader-text">SYSTEM LOADING</span>
        <span class="loader-dot">.</span><span class="loader-dot">.</span><span class="loader-dot">.</span>
    </div>

    <div class="grid-container">
        <header class="header">
            <a href="../../" class="logo-link">
                <img src="../../image/RAVE2D-WHITE.png" alt="RAVE 2D" class="logo-img">
            </a>
            <div class="sub-text">TOKYO SUB CULTURE<br>DJ CATALOG</div>
        </header>

        <div class="marquee-section marquee-glitch" aria-hidden="true">
            <div class="glitch-bg"></div>
            <div class="glitch-slice glitch-slice--1"></div>
            <div class="glitch-slice glitch-slice--2"></div>
            <div class="glitch-scan"></div>
            <div class="glitch-burst" aria-hidden="true">
                <div class="glitch-burst-layer glitch-burst--blue-dark"></div>
                <div class="glitch-burst-layer glitch-burst--blue-light"></div>
            </div>
        </div>

        <main class="event-main">
            <h1 class="event-title" data-reveal>RAVE 2D: ASAGAYA</h1>

            <div class="event-visual" id="event-visual" data-cursor-area>
                <span class="event-anno event-anno--place" aria-hidden="true" data-anno>
                    <span class="event-anno-label">place</span>
                    <span class="event-anno-text">@Asagaya DRIFT</span>
                </span>
                <span class="event-anno event-anno--date" aria-hidden="true" data-anno>
                    <span class="event-anno-label">date</span>
                    <span class="event-anno-text">Sep 16th, 2024</span>
                </span>
                <span class="event-anno event-anno--time" aria-hidden="true" data-anno>
                    <span class="event-anno-label">time</span>
                    <span class="event-anno-text event-anno-text--start">start. 16:00</span>
                    <span class="event-anno-text event-anno-text--end">end. 22:00</span>
                </span>
                <div class="event-visual-img">
                    <img src="../../image/RAVE2D-ASAGAYA.png" alt="RAVE 2D: ASAGAYA" width="600" height="600">
                </div>
            </div>

            <div class="event-detail" data-reveal>
                <p class="event-entrance">entrance ¥ 3,000 + drink</p>

                <section class="event-lineup">
                    <h2 class="event-lineup-title">Guest DJ</h2>
                    <ul class="event-lineup-list">
                        <li><a href="https://x.com/yamy_otak" target="_blank" rel="noopener">yamakagebeats</a></li>
                        <li><a href="https://x.com/umi_futoshi" target="_blank" rel="noopener">yahmanfightclub</a></li>
                        <li><a href="https://x.com/YUiFUNAMi__" target="_blank" rel="noopener">神と和解せよ</a></li>
                        <li><a href="https://x.com/hallycore_" target="_blank" rel="noopener">hallycore</a></li>
                        <li><a href="https://x.com/Marble_masahide" target="_blank" rel="noopener">Marble</a></li>
                    </ul>
                </section>

                <div class="event-ticket-links">
                    <a href="https://x.com/rave_2d/status/1822602649562489005" class="btn" target="_blank" rel="noopener" data-hover>ANNOUNCEMENT</a>
                </div>

                <p class="event-tagline">RAVE 2D is a Tokyo-based DJ mix brand.<br>Capturing the intersection of internet and club.</p>
            </div>

            <div class="event-back" data-reveal>
                <a href="../../#events" class="btn" data-hover>← BACK TO EVENTS</a>
            </div>
        </main>

        <aside class="info-bar">
            <ul>
                <li>EVENT: <span class="blink">ASAGAYA</span></li>
                <li>DATE: 2024.09.16</li>
                <li>VENUE: Asagaya DRIFT</li>
            </ul>
        </aside>

        <footer class="footer event-footer">
            <div class="footer-links">
                <a href="https://x.com/rave_2d" target="_blank" rel="noopener">X(TWITTER)</a>
                <a href="https://www.instagram.com/rave_2d/" target="_blank" rel="noopener">INSTAGRAM</a>
                <a href="https://www.tiktok.com/@rave2d" target="_blank" rel="noopener">TIKTOK</a>
            </div>
            <div class="copy">© RAVE 2D ALL RIGHTS RESERVED.</div>
        </footer>
    </div>

    <script>
(function () {
    /* --- Loader: 表示→非表示 → コンテンツ表示 --- */
    var loader = document.querySelector('.loader');
    function hideLoader() {
        if (!loader) return;
        loader.classList.add('is-hidden');
        setTimeout(function () {
            loader.style.display = 'none';
            document.querySelectorAll('.event-main [data-reveal]').forEach(function (el) {
                el.classList.add('is-visible');
            });
        }, 600);
    }
    if (document.readyState === 'complete') {
        setTimeout(hideLoader, 1200);
    } else {
        window.addEventListener('load', function () { setTimeout(hideLoader, 1200); });
    }

    /* --- 水面のようにカーソルに反応する place / date / time --- */
    var area = document.getElementById('event-visual');
    var annos = document.querySelectorAll('.event-anno[data-anno]');
    if (!area || !annos.length) return;

    var cursorStrength = 26;
    var waveAmp = 4;
    var waveSpeed = 0.75;
    var rippleDecay = 0.86;
    var cursorLerp = 0.32;
    var backLerp = 0.055;
    var placeFactor = { x: 1, y: 1 };
    var dateFactor = { x: -1.15, y: 0.9 };
    var timeFactor = { x: 1.05, y: -0.9 };
    var phases = [0, 2.4, 5.1];

    function getNormPos(e) {
        var rect = area.getBoundingClientRect();
        var cx = rect.left + rect.width / 2;
        var cy = rect.top + rect.height / 2;
        var x = (e.clientX - cx) / (rect.width / 2);
        var y = (e.clientY - cy) / (rect.height / 2);
        return {
            x: Math.max(-1, Math.min(1, x)),
            y: Math.max(-1, Math.min(1, y))
        };
    }

    var lastNorm = { x: 0, y: 0 };
    var targetNorm = { x: 0, y: 0 };
    var ripple = { x: 0, y: 0 };
    var prevTarget = { x: 0, y: 0 };
    var t0 = typeof performance !== 'undefined' ? performance.now() * 0.001 : 0;
    var isInside = false;
    var rafId = null;

    function applyTransforms(cursor, wave, rippleOff, time) {
        annos.forEach(function (el, i) {
            var f = i === 0 ? placeFactor : (i === 1 ? dateFactor : timeFactor);
            var phaseScale = 0.75 + i * 0.35;
            var wx = wave.x * phaseScale + Math.sin(time * 0.4 + i * 1.2) * 1.2;
            var wy = wave.y * phaseScale + Math.cos(time * 0.35 + i * 0.9) * 1.2;
            var tx = cursor.x * cursorStrength * f.x + wx + rippleOff.x * f.x;
            var ty = cursor.y * cursorStrength * f.y + wy + rippleOff.y * f.y;
            if (el.classList.contains('event-anno--place')) {
                el.style.transform = 'translate(calc(-50% + ' + tx + 'px), ' + ty + 'px)';
            } else if (el.classList.contains('event-anno--date')) {
                el.style.transform = 'translate(' + tx + 'px, ' + ty + 'px)';
            } else {
                el.style.transform = 'translate(' + tx + 'px, calc(-50% + ' + ty + 'px))';
            }
        });
    }

    function clearTransforms() {
        annos.forEach(function (el) {
            el.style.transform = '';
        });
    }

    function tick() {
        var t = (typeof performance !== 'undefined' ? performance.now() * 0.001 : 0) - t0;
        lastNorm.x += (targetNorm.x - lastNorm.x) * (isInside ? cursorLerp : backLerp);
        lastNorm.y += (targetNorm.y - lastNorm.y) * (isInside ? cursorLerp : backLerp);
        ripple.x *= rippleDecay;
        ripple.y *= rippleDecay;
        var waveX = Math.sin(t * waveSpeed + phases[0]) * waveAmp + Math.sin(t * 0.55 + phases[1]) * waveAmp * 0.45;
        var waveY = Math.cos(t * waveSpeed * 0.9 + phases[2]) * waveAmp * 0.95 + Math.cos(t * 0.58 + phases[0]) * waveAmp * 0.4;
        applyTransforms(lastNorm, { x: waveX, y: waveY }, ripple, t);
        var settled = !isInside && Math.abs(lastNorm.x) < 0.015 && Math.abs(lastNorm.y) < 0.015 && Math.abs(ripple.x) < 0.5 && Math.abs(ripple.y) < 0.5;
        if (settled) {
            rafId = null;
            clearTransforms();
        } else {
            rafId = requestAnimationFrame(tick);
        }
    }

    function onPointerMove(e) {
        var next = getNormPos(e);
        ripple.x += (next.x - prevTarget.x) * 14;
        ripple.y += (next.y - prevTarget.y) * 14;
        prevTarget.x = next.x;
        prevTarget.y = next.y;
        targetNorm.x = next.x;
        targetNorm.y = next.y;
    }

    area.addEventListener('pointerenter', function () {
        isInside = true;
        if (rafId === null) {
            rafId = requestAnimationFrame(tick);
        }
    });
    area.addEventListener('pointermove', onPointerMove, { passive: true });
    area.addEventListener('pointerleave', function () {
        isInside = false;
        targetNorm = { x: 0, y: 0 };
        prevTarget = { x: 0, y: 0 };
        if (rafId === null) {
            rafId = requestAnimationFrame(tick);
        }
    });
})();
    </script>
</body>
</html>
